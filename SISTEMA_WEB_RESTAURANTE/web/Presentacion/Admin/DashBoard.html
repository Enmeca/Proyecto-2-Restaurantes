<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Admin - Dashboard</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!-- Custom fonts for this template-->
  <link href="/SISTEMA_WEB_RESTAURANTE/Dashboard/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href="/SISTEMA_WEB_RESTAURANTE/css/Style.css" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

  <!-- Custom styles for this template-->
  <link href="/SISTEMA_WEB_RESTAURANTE/Dashboard/css/sb-admin-2.min.css" rel="stylesheet">

</head>

<body id="page-top">
  <nav id="Menu_dashbord"> 
      <ul class='Nav'>     
           <li> <a id='salir' href='/SISTEMA_WEB_RESTAURANTE/Inicio.html'>Salir</a>
                <ul> <!--submenu --> </ul></li> 
            <li class="Barra"> | </li>
                 <li >
                 <a  href="/SISTEMA_WEB_RESTAURANTE/Inicio.html">Homepage</a>
                  <ul>  <!--submenu --> </ul>
                </li>
            
            </ul>
    </nav> 
  <!-- Page Wrapper -->
  <div id="wrapper">

    <!-- Sidebar -->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

      <!-- Sidebar - Brand -->
      <a class="sidebar-brand d-flex align-items-center justify-content-center" href="index.html">
        <div class="sidebar-brand-icon rotate-n-15">
          <i class="fas fa-laugh-wink"></i>
        </div>
        <div class="sidebar-brand-text mx-3">Admin </div>
      </a>

      <!-- Divider -->
      <hr class="sidebar-divider my-0">

      <!-- Nav Item - Dashboard -->
      <li class="nav-item active">
        <a class="nav-link" href="index.html">
          <i class="fas fa-fw fa-tachometer-alt"></i>
          <span>Estadisticas Dashboard</span></a>
      </li>

      <!-- Divider -->
      <hr class="sidebar-divider">

      <!-- Heading -->
      <div class="sidebar-heading">
        Interface
      </div>

      <!-- Nav Item - Pages Collapse Menu -->
      <li class="nav-item">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
          <i class="fas fa-fw fa-user"></i>
          <span>Usuarios</span>
        </a>
        <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
          <div class="bg-white py-2 collapse-inner rounded">

            <a id='anadiradmin' class="collapse-item" href="#">Añadir admin</a>
            <a id='verclientes' class="collapse-item" href="#">Ver todos los clientes</a>
          </div>
        </div>
      </li>

      <!-- Nav Item - Utilities Collapse Menu -->
       <li class="nav-item">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseUtilities" aria-expanded="true" aria-controls="collapseUtilities">
          <i class="fas fa-fw fa-wrench"></i>
          <span>Categorias</span>
        </a>
        <div id="collapseUtilities" class="collapse" aria-labelledby="headingUtilities" data-parent="#accordionSidebar">
          <div class="bg-white py-2 collapse-inner rounded">

            <a id="anadircategoria" class="collapse-item" href="#">Añadir</a>
            <a id="vercat" class="collapse-item" href="#">ver</a>
           
          </div>
        </div>
      </li>
      <li class="nav-item">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapsePlato" aria-expanded="true" aria-controls="collapsePlato">
          <i class="fas fa-fw fa-wrench"></i>
          <span>Platos</span>
        </a>
        <div id="collapsePlato" class="collapse" aria-labelledby="headingPlato" data-parent="#accordionSidebar">
          <div class="bg-white py-2 collapse-inner rounded">

            <a id="Anadirplato" class="collapse-item" href="#">Añadir</a>
            <a id="vermenu" class="collapse-item" href="#">ver</a>            
          </div>
        </div>
      </li>
       <li class="nav-item">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseOpciones" aria-expanded="true" aria-controls="collapseOpciones">
          <i class="fas fa-fw fa-wrench"></i>
          <span>Opciones</span>
        </a>
        <div id="collapseOpciones" class="collapse" aria-labelledby="headingOpciones" data-parent="#accordionSidebar">
          <div class="bg-white py-2 collapse-inner rounded">

            <a id="anadiropcion" class="collapse-item" href="#">Añadir</a>

          </div>
        </div>
      </li>
      <li class="nav-item">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseAdicionales" aria-expanded="true" aria-controls="collapseAdicionales">
          <i class="fas fa-fw fa-wrench"></i>
          <span>Adicionales</span>
        </a>
        <div id="collapseAdicionales" class="collapse" aria-labelledby="headingAdicionales" data-parent="#accordionSidebar">
          <div class="bg-white py-2 collapse-inner rounded">

            <a id="anadiradicional" class="collapse-item" href="#">Añadir</a>
          </div>
        </div>
      </li>

       <li class="nav-item">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapsePedidos" aria-expanded="true" aria-controls="collapsePedidos">
          <i class="fas fa-fw fa-cart-plus"></i>
          <span>Pedidos</span>
        </a>
        <div id="collapsePedidos" class="collapse" aria-labelledby="headingPedidos" data-parent="#accordionSidebar">
          <div class="bg-white py-2 collapse-inner rounded">
    
            <a id="verpedidos" class="collapse-item" href="#">Ver pedidos</a>
           
          </div>
        </div>
      </li>
      
      <!-- Divider -->
      <hr class="sidebar-divider">

     </ul>
    <div id="content-wrapper" class="d-flex flex-column">

      <!-- Main Content -->
      <div id="content">
    
          </div>
      </div>
  </div>

  <!-- Bootstrap core JavaScript-->
  <script>
  function Load()
  {
      $("#salir").on("click",()=>{Salir();});
      $("#anadircategoria").on("click",()=>{ShowFormCategoria();});
      $("#Anadirplato").on("click",()=>{buscarcategorias();});
      $("#anadiropcion").on("click",()=>{buscarplatos();});
       $("#anadiradicional").on("click",()=>{buscaropciones();});
      $("#verpedidos").on("click",()=>{PedidosGet();});
      $("#anadiradmin").on("click",()=>{ShowFormUsuario();});
      $("#verclientes").on("click",()=>{ClientesGet();});
      $("#vermenu").on("click",()=>{loadmenus();});
      $("#vercat").on("click",()=>{loadcat();});

  }
  function ShowFormCategoria(){
  $("#content").html(  "<form class='formulaio_azul'>"+
            "<div ><img src='/SISTEMA_WEB_RESTAURANTE/Imagen/tasty.png' width='100' height='100'></div><br><br><h5>Anadir Categoria</h5>"+ 
            "<br><br><input class='input_form' type='text' placeholder='Categoria' id='Categoria'><br><br>"+
         "<br><br><a  href='#'><input class='input_blue' type='button'  id='Enviar' value='Anadir'></a></form>");
  $("#Enviar").on("click",()=>{AddCategoria();});
  }
  function AddCategoria()
  {
      Categoria={
          codigo:0,
          descripcion: $("#Categoria").val()
          
      }
      $.ajax({type: "POST", url:"/SISTEMA_WEB_RESTAURANTE/api/Categorias",data: JSON.stringify(Categoria),contentType: "application/json"})
      .then( ()=>{$("#Categoria").val("");},
             (error)=>{ alert(errorMessage(error.status));});
  }
      function AddOpcion()
  {
      if($("#Requerida").val()=='1')
      {Opcion={
          codigo:0,
          nombre:$("#Nombre").val(),
          tipo: '0',
          requerida: $("#Requerida").val(),
          plato:{ codigo: $("#Plato").val()}
          
      }}
      else
      {
        Opcion={
          codigo:0,
          nombre:$("#Nombre").val(),
          tipo: '1',
          requerida: $("#Requerida").val(),
          plato:{ codigo: $("#Plato").val()}
          
      }  
      }
      $.ajax({type: "POST", url:"/SISTEMA_WEB_RESTAURANTE/api/Opciones",data: JSON.stringify(Opcion),contentType: "application/json"})
      .then( ()=>{$("#Nombre").val("");},
             (error)=>{ alert(errorMessage(error.status));});
  }
    function AddPlato()
  {
      Plato={
          codigo:0,
          nombre:$("#Nombre").val(),
          descripcion: $("#Descripcion").val(),
          precio: $("#Precio").val(),
          categoria:{ codigo: $("#categoria").val()}
          
      }
      $.ajax({type: "POST", url:"/SISTEMA_WEB_RESTAURANTE/api/Platillos",data: JSON.stringify(Plato),contentType: "application/json"})
      .then( ()=>{$("#Nombre").val("");$("#Descripcion").val("");$("#Precio").val("");},
             (error)=>{ alert(errorMessage(error.status));});
  }
     function AddAdicional()
  {
      Adicional={
          codigo:0,
          nombre:$("#Nombre").val(),
          precio: $("#Precio").val(),
          opcion:{ codigo: $("#Opcion").val()}
          
      }
      $.ajax({type: "POST", url:"/SISTEMA_WEB_RESTAURANTE/api/Adicional",data: JSON.stringify(Adicional),contentType: "application/json"})
      .then( ()=>{$("#Nombre").val("");$("#Precio").val("");},
             (error)=>{ alert(errorMessage(error.status));});
  }
  function AddAdmin()
  {
      Administrador={
          usuario:{
              correo: $("#Correo").val(),
              clave:$("#Clave").val()
          },
          nombre:$("#Nombre").val(),
          apellidos: $("#Apellidos").val(),
          telefono:$("#Telefono").val()
          
      }
      $.ajax({type: "POST", url:"/SISTEMA_WEB_RESTAURANTE/api/Administrador",data: JSON.stringify(Administrador),contentType: "application/json"})
      .then( ()=>{$("#Nombre").val("");$("#Correo").val("");$("#Telefono").val("");$("#Apellidos").val("");$("#Clave").val("");},
             (error)=>{ alert(errorMessage(error.status));});
  }
   function buscarcategorias(){
    $.ajax({type: "GET", url:"/SISTEMA_WEB_RESTAURANTE/api/Categorias",contentType: "application/json"})
      .then( (categorias)=>{ShowFormPlato(categorias);},
             (error)=>{ alert(errorMessage(error.status));});                  
    }
     function buscarplatos(){
    $.ajax({type: "GET", url:"/SISTEMA_WEB_RESTAURANTE/api/Platillos",contentType: "application/json"})
      .then( (platos)=>{ShowFormOpcion(platos);},
             (error)=>{ alert(errorMessage(error.status));});                  
    }
     function Salir(){
    $.ajax({type: "DELETE", url:"/SISTEMA_WEB_RESTAURANTE/api/Logueo_admin",contentType: "application/json"})
      .then( ()=>{},
             (error)=>{ alert(errorMessage(error.status));});                  
    }
      function buscaropciones(){
    $.ajax({type: "GET", url:"/SISTEMA_WEB_RESTAURANTE/api/Opciones",contentType: "application/json"})
      .then( (Opciones)=>{ShowFormAdicional(Opciones);},
             (error)=>{ alert(errorMessage(error.status));});                  
    }
        function ShowFormUsuario()
    {
         $("#content").html(  "<form class='formulaio_azul'>"+
            "<div ><img src='/SISTEMA_WEB_RESTAURANTE/Imagen/tasty.png' width='100' height='100'></div><br><br><h5>Anadir Admnistrador</h5>"+ 
             "<br><br><p>Correo:</p><input class='input_form' type='text' placeholder='Correo' id='Correo'>"+
            "<br><br><p>Contrasena:</p><input class='input_form' type='password' placeholder='Clave' id='Clave'>"+
            "<br><br><p>Nombre:</p><input class='input_form' type='text' placeholder='Nombre' id='Nombre'>"+
            "<br><br><p>Apellidos:</p><input class='input_form' type='text' placeholder='Apellidos' id='Apellidos'>"+
            "<br><br><p>Telefono:</p><input class='input_form' type='text' placeholder='Telefono' id='Telefono'>"+
         "<br><br><a  href='#'><input class='input_blue' type='button'  id='Enviar' value='Anadir'></a></form>");
         $("#Enviar").on("click",()=>{AddAdmin();});
    }
     function ShowFormOpcion(platos)
    {
         $("#content").html(  "<form class='formulaio_azul'>"+
            "<div ><img src='/SISTEMA_WEB_RESTAURANTE/Imagen/tasty.png' width='100' height='100'></div><br><br><h5>Anadir Opcion</h5>"+ 
            "<br><br><p>Nombre:</p><input class='input_form' type='text' placeholder='Nombre' id='Nombre'>"+
            "<br><br><p>Requerida:</p><select class='input_form' id='Requerida'><option value='1'>Si</option><option value='0'>No</option></select>"+
            "<br><br><p>Plato:</p><select class='input_form' id='Plato'></select><br><br>"+
         "<br><br><a  href='#'><input class='input_blue' type='button'  id='Enviar' value='Anadir'></a></form>");
         platos.forEach((p)=>{ 
         $("#Plato").append("<option value='"+p.codigo+"'>"+p.nombre+"</option>");
        });
         $("#Enviar").on("click",()=>{AddOpcion();});
    }
      function ShowFormAdicional(opciones)
    {
         $("#content").html(  "<form class='formulaio_azul'>"+
            "<div ><img src='/SISTEMA_WEB_RESTAURANTE/Imagen/tasty.png' width='100' height='100'></div><br><br><h5>Anadir adicional</h5>"+ 
            "<br><br><p>Nombre:</p><input class='input_form' type='text' placeholder='Nombre' id='Nombre'>"+
             "<br><br><p>Precio:</p><input class='input_form' type='text' placeholder='Precio' id='Precio'>"+
            "<br><br><p>Opcion:</p><select class='input_form' id='Opcion'></select><br><br>"+
         "<br><br><a  href='#'><input class='input_blue' type='button'  id='Enviar' value='Anadir'></a></form>");
         opciones.forEach((o)=>{ 
         $("#Opcion").append("<option value='"+o.codigo+"'>"+o.nombre+"</option>");
        });
         $("#Enviar").on("click",()=>{AddAdicional();});
    }
    function ShowFormPlato(categorias)
    {
         $("#content").html(  "<form class='formulaio_azul'>"+
            "<div ><img src='/SISTEMA_WEB_RESTAURANTE/Imagen/tasty.png' width='100' height='100'></div><br><br><h5>Anadir Plato</h5>"+ 
            "<br><br><p>Nombre:</p><input class='input_form' type='text' placeholder='Nombre' id='Nombre'>"+
            "<br><br><p>Descripcion:</p><input class='input_form' type='text' placeholder='Descripcion' id='Descripcion'>"+
            "<br><br><p>Precio:</p><input class='input_form' type='text' placeholder='Precio' id='Precio'>"+
            "<br><br><p>Categoria:</p><select class='input_form' id='categoria'></select><br><br>"+
         "<br><br><a  href='#'><input class='input_blue' type='button'  id='Enviar' value='Anadir'></a></form>");
         categorias.forEach((c)=>{ 
         $("#categoria").append("<option value='"+c.codigo+"'>"+c.descripcion+"</option>");
        });
         $("#Enviar").on("click",()=>{AddPlato();});
    }
    function PedidosGet()
    {
       $.ajax({type: "GET", url:"/SISTEMA_WEB_RESTAURANTE/api/Pedido",contentType: "application/json"})
      .then( (Pedidos)=>{ShowPedidos(Pedidos);},
             (error)=>{ alert(errorMessage(error.status));}); 
            $("#Direccion").val(" ");  
        
    }
      function ClientesGet()
    {
       $.ajax({type: "GET", url:"/SISTEMA_WEB_RESTAURANTE/api/Administrador",contentType: "application/json"})
      .then( (clientes)=>{ShowClientes(clientes);},
             (error)=>{ alert(errorMessage(error.status));}); 
            
        
    }
     function ShowClientes(Clientes)
    {
        
        $("#content").html("<form class='formulario_table_azul'><div ><img src='/SISTEMA_WEB_RESTAURANTE/Imagen/tasty.png' width='100' height='100'></div><center><h3>Clientes</h3></center><table><thead>"+
              "<tr><td>Correo</td> <td>Nombre</td> <td>Apellidos</td> <td>Telefono</td></tr>"+
            "</thead><tbody id='listadoclientes'></tbody></table></form>");
        var listadoclientes=$("#listadoclientes");
        Clientes.forEach((c)=>{row_clientes(listadoclientes,c);} );
        
        
    }
    function row_clientes(listadoclientes,c)
    {
        var tr =$("<tr />");
       tr.html("<td>"+c.correo+"</td>"+"<td>"+c.nombre+"</td><td>"+c.apellidos+"</td><td>"+c.telefono+"</td>");
       listadoclientes.append(tr);
      
    }
    function ShowPedidos(Pedidos)
    {
        
        $("#content").html("<form class='formulario_table_azul'><div ><img src='/SISTEMA_WEB_RESTAURANTE/Imagen/tasty.png' width='100' height='100'></div><center><h3>Pedidos</h3></center><table><thead>"+
              "<tr><td>Numero pedido</td> <td>Fecha</td> <td>Tipo orden</td> <td>Tipo pedido</td><td>Fecha y hora entrega</td><td>Estado</td><td>Direccion</td><td>Total</td></tr>"+
            "</thead><tbody id='listadopedidos'></tbody></table></form>");
        var listadopedidos=$("#listadopedidos");
        Pedidos.forEach((p)=>{row(listadopedidos,p);} );
        
        
    }
    function row(listadopedidos,p)
    {
        var tr =$("<tr />");
        if(p.tipo_pedido=='Express' && p.tipo_orden!='ASP')
        {tr.html("<td id='codigo'>"+p.codigo+"</td>"+"<td>"+p.fecha+"</td><td>"+p.tipo_orden+"</td><td>"+p.tipo_pedido+"</td><td>"+p.fecha_entrega+"</td><td id='Estado'>"+p.estado+"</td><td>"+p.direccion.direccion+"</td><td>$"+p.total+"</td>");}
        else
        {
          if(p.tipo_pedido=='Express' && p.tipo_orden=='ASP')
          {
          tr.html("<td id='codigo'>"+p.codigo+"</td>"+"<td>"+p.fecha+"</td><td>"+p.tipo_orden+"</td><td>"+p.tipo_pedido+"</td><td></td><td id='Estado'>"+p.estado+"</td><td>"+p.direccion.direccion+"</td><td>$"+p.total+"</td>");
          }
          else
          {
              
              if( p.tipo_orden!='ASP')
              {
                tr.html("<td id='codigo'>"+p.codigo+"</td>"+"<td>"+p.fecha+"</td><td>"+p.tipo_orden+"</td><td>"+p.tipo_pedido+"</td><td>"+p.fecha_entrega+"</td><td id='Estado'>"+p.estado+"</td><td></td><td>$"+p.total+"</td>");  
              }
              else
              {
                 tr.html("<td id='codigo'>"+p.codigo+"</td>"+"<td>"+p.fecha+"</td><td>"+p.tipo_orden+"</td><td>"+p.tipo_pedido+"</td><td></td><td id='Estado'>"+p.estado+"</td><td></td><td>$"+p.total+"</td>");    
                  
              }
          }
        } 
        tr.find("#Estado").on("click",()=>{UpdatePedido(p.codigo,p.estado);});
        tr.find("#codigo").on("click",()=>{GetPedido(p);});
       listadopedidos.append(tr);
      
    }
    function GetPedido(pedido)
    {
         $.ajax({type: "GET", url:"/SISTEMA_WEB_RESTAURANTE/api/DetallePedido/"+pedido.codigo,contentType: "application/json"})
        .then( (detalles)=>{ShowFormDetallesPedido(detalles,pedido);},
                (error)=>{ alert(errorMessage(error.status));});
        
    }
    function ShowFormDetallesPedido(detalles,pedido)
    {
        
        $("#content").html(  "<form id='formdetalle' class='formulaio_azul'><center><h2>Detalles pedido</h2></center><br><h4>Orden:#"+pedido.codigo+
                "</h4><br><h4>Cliente:"+pedido.cliente.nombre+"</h4><br></form>");
        detalles.forEach((d)=>{
            $("#formdetalle").append("<br><center><h4>Plato:"+d.pedidoplato.plato.nombre+"</h4></center>");
                        $("#formdetalle").append("<center><h5>Cantidad:"+d.pedidoplato.cantidad+"</h5></center>");
            d.opcionesadicionales.forEach((o)=>{
                
                $("#formdetalle").append("<center><h5>Opcion:"+o.opcion.opcion.nombre+"</h5></center>");
                o.adicionales.forEach((a)=>{
                    $("#formdetalle").append("<center><p>- "+a.adicional.nombre+"</p></center>");
                    
                });
                
            });
            
        });
        
        $("#formdetalle").append("<br><center><h5>Total:$"+pedido.total+"</h5></center>");
        
    }
    function UpdatePedido(codigo,estado)
    {
         if(estado!="Entregado")
         { 
            if(estado=="Pendiente")
            {
                pedido = {
                    codigo: codigo,
                    estado: "Preparado"
                }
        
            }
            else
            {
          
            pedido = {
                    codigo: codigo,
                    estado: "Entregado"
                } 
            }
            $.ajax({type: "PUT", url:"/SISTEMA_WEB_RESTAURANTE/api/Pedido",data: JSON.stringify(pedido),contentType: "application/json"})
        .then( ()=>{PedidosGet();},
                (error)=>{ alert(errorMessage(error.status));});
            } 
    }
    
    function showmenus(Platillos){
      $("#content").html(

        "<div class='container-fluid'> <h3 class='text-dark mb-4'>Menu</h3> <div class='card shadow'>"+
"    <div class='card-header py-3'> <p class='text-primary m-0 font-weight-bold'>Menu del Restaurante</p>"+
"        </div> <div class='card-body'>"+
"            <div class='row'>"+
"                <div class='col-md-6 text-nowrap'>"+
"                </div>"+
"                <div class='col-md-6'>"+
"                </div>"+
"            </div>"+
"            <div class='table-responsive table mt-2' id='dataTable' role='grid' aria-describedby='dataTable_info'>"+
"                <table class='table my-0' id='dataTable'>"+
"                    <thead>"+
"                        <tr>"+
"                            "+
"                            <th>ID</th>"+
"                            <th>Nombre</th>"+
"                            <th style='padding: 12px;width: 170px;'>Descripcion</th>"+
"                            <th>Precio</th>"+
"                            <th>Categoria</th>"+
"                        </tr>"+
"                    </thead>"+
"                    <tbody id='listadomenu'></tbody>"+
"                    <tfoot>"+
"                        <tr>"+
"                            "+
"                            <td><strong>ID</strong></td>"+
"                            <td><strong>Nombre</strong></td>"+
"                            <td><strong>Descripcion</strong></td>"+
"                            <td><strong>Precio</strong></td>"+
"                            <td><strong>Categoria</strong></td>"+
"                        </tr>"+
"                    </tfoot>"+
"                </table>"+
"            </div>"+
"        </div>"+
"    </div>"+
"</div>"

      );
      var listado=$("#listadomenu");
    listado.html("");
    Platillos.forEach( (m)=>{rowmenus(listado,m);});	
    }
    function loadmenus(){
    $.ajax({type: "GET", url:"/SISTEMA_WEB_RESTAURANTE/api/Platillos/", contentType: "application/json"})
    .then( (Platillos)=>{showmenus(Platillos);},
           (error)=>{ alert(errorMessage(error.status));});    
  } 
  function rowmenus(listado,menu){
	var tr =$("<tr />");
  tr.html("<td>"+menu.codigo+"</td>"+
                "<td>"+menu.nombre+"</td>"+
                "<td>"+menu.descripcion+"</td>"+
                "<td>"+menu.precio+"</td>"+
                "<td>"+menu.categoria.descripcion+"</td>");
         //tr.find("#edit").on("click",()=>{edit(menu.codigo);});
        // tr.find("#delete").on("click",()=>{del(menu.cedula);});
	listado.append(tr);           
  }


  
function loadcat(){
    $.ajax({type: "GET", url:"/SISTEMA_WEB_RESTAURANTE/api/Categorias/", contentType: "application/json"})
    .then( (Categorias)=>{listcat(Categorias);},
           (error)=>{ alert(errorMessage(error.status));});    
  }

  function listcat(cate){
  $("#content").html(

    "<div class='container-fluid'>"+
        "    <h3 class='text-dark mb-4'>Categorias</h3>"+
        "    <div class='card shadow'>"+
        "        <div class='card-header py-3'>"+
        "            <p class='text-primary m-0 font-weight-bold'>Categorias del menu</p>"+
        "        </div>"+
        "        <div class='card-body'>"+
        "            <div class='row'>"+

        "            </div>"+
        "            <div class='table-responsive table mt-2' id='dataTable' role='grid' aria-describedby='dataTable_info'>"+
        "                <table class='table my-0' id='dataTable'>"+
        "                    <thead>"+
        "                        <tr>"+
        "                            <th>Codigo</th>"+
        "                            <th class='text-center'>Nombre</th>"+
        "                        </tr>"+
        "                    </thead>"+
        "                    <tbody id='listadocat'></tbody>"+
        "                    <tfoot>"+
        "                        <tr>"+
        "                            <td><strong>Codigo</strong></td>"+
        "                            <td class='text-center'><strong>Nombre</strong></td>"+
        "                        </tr>"+
        "                    </tfoot>"+
        "                </table>"+
        "            </div>"+
        "        </div>"+
        "    </div>"+
        "</div>"

  );
    var listado=$("#listadocat");
    listado.html("");
    cate.forEach( (c)=>{rowcat(listado,c);});	
  }
  
  function rowcat(listado,cat){
	var tr =$("<tr />");
  tr.html(
                "<td>"+cat.codigo+"</td>"+
                "<td>"+cat.descripcion+"</td>");
         //tr.find("#edit").on("click",()=>{edit(cat.codigo);});
        // tr.find("#delete").on("click",()=>{del(cat.cedula);});
	listado.append(tr);           
  }

  Load(); 
  </script>
  <script src="/SISTEMA_WEB_RESTAURANTE/Dashboard/vendor/jquery/jquery.min.js"></script>
  <script src="/SISTEMA_WEB_RESTAURANTE/Dashboard/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Core plugin JavaScript-->
  <script src="/SISTEMA_WEB_RESTAURANTE/Dashboard/vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom scripts for all pages-->
  <script src="/SISTEMA_WEB_RESTAURANTE/Dashboard/js/sb-admin-2.min.js"></script>

  <!-- Page level plugins -->
  <script src="/SISTEMA_WEB_RESTAURANTE/Dashboard/vendor/chart.js/Chart.min.js"></script>

  <!-- Page level custom scripts -->
  <script src="/SISTEMA_WEB_RESTAURANTE/Dashboard/js/demo/chart-area-demo.js"></script>
  <script src="/SISTEMA_WEB_RESTAURANTE/Dashboard/js/demo/chart-pie-demo.js"></script>

</body>

</html>
